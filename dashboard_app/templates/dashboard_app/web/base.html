{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr" data-startbar="dark" data-bs-theme="light">

<head>
    <meta charset="utf-8" />
    <title>{% block title %}African Maps{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'web/assets/images/favicon.ico' %}">

    <!-- App css -->

    <link href="{% static 'web/assets/libs/simple-datatables/style.css' %}" rel="stylesheet" type="text/css" />

    <link href="{% static 'web/assets/libs/mobius1-selectr/selectr.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'web/assets/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />

    <link href="{% static 'web/assets/css/icons.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'web/assets/css/app.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'web/assets/css/esri_main.css' %}" rel="stylesheet" type="text/css" />


    <style>

        #viewDiv{
            width:100%;
            height:80vh;
        }
        @media (max-width: 768px) {
        .esri-basemap-gallery__item-container {
            flex-flow: row nowrap;
            gap: 12px;
            margin: 0;
            padding-block: 3px;
            padding-inline: 3px;
            list-style: none;
            transition: opacity .25s ease-in-out;
            display: flex;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        }
        .esri-sketch__feature-count-badge{
            display: none;
        }
    </style>
  
</head>

<body>

    <!-- Top Bar Start -->
    <div class="topbar d-print-none">
        <div class="container-xxl">
            <nav class="topbar-custom d-flex justify-content-between" id="topbar-custom">    
        

                <ul class="topbar-item list-unstyled d-inline-flex align-items-center mb-0">                        
                    <li>
                        <button class="nav-link mobile-menu-btn nav-icon" id="togglemenu">
                            <i class="iconoir-menu-scale"></i>
                        </button>
                    </li> 
                    <li class="mx-3 welcome-text">
                        <h3 class="mb-0 fw-bold text-truncate"></h3>
                        <!-- <h6 class="mb-0 fw-normal text-muted text-truncate fs-14">Here's your overview this week.</h6> -->
                    </li>                   
                </ul>
                <ul class="topbar-item list-unstyled d-inline-flex align-items-center mb-0">
                    <!--end topbar-language-->
        
                    <li class="dropdown topbar-item">
                        <a class="nav-link dropdown-toggle arrow-none nav-icon" data-bs-toggle="dropdown" href="#" role="button"
                            aria-haspopup="false" aria-expanded="false">
                            <img src="{% static 'web/assets/icons/icon_user.svg' %}" alt="" class="thumb-lg rounded-circle" style="width: 50px;height: 36px;">
                        </a>
                        <div class="dropdown-menu dropdown-menu-end py-0">
                            <div class="d-flex align-items-center dropdown-item py-2 bg-secondary-subtle">
                                <div class="flex-shrink-0">
                                    <img src="{% static 'web/assets/icons/icon_user.svg' %}" alt="" class="thumb-md rounded-circle" style="width: 50px;height: 36px;">
                                </div>
                                <div class="flex-grow-1 ms-2 text-truncate align-self-center">
                                    <h6 class="my-0 fw-medium text-dark fs-13">{{ username }}</h6>
                                    <small class="text-muted mb-0">{{ role }}</small>
                                </div><!--end media-body-->
                            </div>
                            <div class="dropdown-divider mb-0"></div>
                            <a class="dropdown-item text-danger" href="/logout/"><i class="las la-power-off fs-18 me-1 align-text-bottom"></i>Déconnexion</a>
                        </div>
                    </li>
                </ul><!--end topbar-nav-->
            </nav>
            <!-- end navbar-->
        </div>
    </div>
    <!-- Top Bar End -->


    <!-- leftbar-tab-menu -->
    <div class="startbar d-print-none">
        <!--start brand-->
        <div class="brand">
            <a href="/dashboard/" class="logo" style="font-size:23px;color:rgb(43 45 59);">
                <span>
                    <img src="{% static 'web/assets/images/logo-sm.png' %}" alt="logo-small" class="logo-sm" style="border-radius: 5px;margin-top: -8px;box-shadow: 1px 1px 4px #eee;">
                </span>
                <span id="logo-text" class="logo-lg logo-light">
                    AfricanMaps
                </span>
            </a>
        </div>        
        <!--end brand-->
        <!--start startbar-menu-->
        <div class="startbar-menu" >
            <div class="startbar-collapse" id="startbarCollapse" data-simplebar>
                <div class="d-flex align-items-start flex-column w-100">
                    <!-- Navigation -->
                    <ul class="navbar-nav mb-auto w-100">
                        
                        <li class="nav-item">
                            <a class="nav-link" href="/dashboard/">
                                <i class="iconoir-home-simple menu-icon"></i>
                                <span>Tableau de bord</span>
                            </a>
                        </li><!--end nav-item-->
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#sidebarLocations" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarLocations">
                                <i class="iconoir-map menu-icon"></i>
                                <span>Projets</span>
                            </a>
                            <div class="collapse" id="sidebarLocations">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a href="/map/" class="nav-link">Ajouter un Projet</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/locations/" class="nav-link">Gérer les Projets</a>
                                    </li>
                                </ul><!--end nav-->
                            </div>
                        </li><!--end nav-item-->
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#sidebarItems" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarItems">
                                <i class="iconoir-frame-select menu-icon"></i>
                                <span>Éléments de Cartographie</span>
                            </a>
                            <div class="collapse" id="sidebarItems">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a href="/manage-items/" class="nav-link">Gérer les Éléments</a>
                                    </li>
                                </ul><!--end nav-->
                            </div>
                        </li><!--end nav-item-->
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#sidebarMediaFiles" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarMediaFiles">
                                <i class="iconoir-camera menu-icon"></i>
                                <span>Fichiers Multimédias</span>
                            </a>
                            <div class="collapse" id="sidebarMediaFiles">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a href="/manage-media/" class="nav-link">Gérer les Médias</a>
                                    </li>
                                </ul><!--end nav-->
                            </div>
                        </li><!--end nav-item-->
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#sidebarReports" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarReports">
                                <i class="iconoir-archive menu-icon"></i>
                                <span>Rapports</span>
                            </a>
                            <div class="collapse" id="sidebarReports">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a href="/rapport/project/" class="nav-link">Rapports de Projets</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/rapport/elements/" class="nav-link">Rapports de Éléments</a>
                                    </li>
                                </ul><!--end nav-->
                            </div>
                        </li><!--end nav-item-->
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#sidebarKMLKMZ" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarKMLKMZ">
                                <i class="iconoir-transition-down menu-icon"></i>
                                <span>Gestion KML/KMZ</span>
                            </a>
                            <div class="collapse" id="sidebarKMLKMZ">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a href="/import/kml-kmz/" class="nav-link">Importer KML/KMZ</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/exporter/kml-kmz/" class="nav-link">Exporter KML/KMZ</a>
                                    </li>
                                </ul><!--end nav-->
                            </div>
                        </li><!--end nav-item-->

                        <li class="nav-item">
                            <a class="nav-link" href="#sidebarUserManagement" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarUserManagement">
                                <i class="iconoir-community menu-icon"></i>
                                <span>Gestion des Utilisateurs</span>
                            </a>
                            <div class="collapse" id="sidebarUserManagement">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a href="/users/" class="nav-link">Liste des Utilisateurs</a>
                                    </li>
                                </ul><!--end nav-->
                            </div>
                        </li><!--end nav-item-->
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#sidebarSettings" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarSettings">
                                <i class="iconoir-settings menu-icon"></i>
                                <span>Paramètres</span>
                            </a>
                            <div class="collapse" id="sidebarSettings">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a href="geojson-settings.html" class="nav-link">Paramètres GeoJSON</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="file-upload-settings.html" class="nav-link">Paramètres de Téléversement</a>
                                    </li>
                                </ul><!--end nav-->
                            </div>
                        </li><!--end nav-item-->
                        
                    </ul><!--end navbar-nav--->
                    
                </div>
            </div><!--end startbar-collapse-->
        </div>
        <!--end startbar-menu-->    
    </div><!--end startbar-->
    <div class="startbar-overlay d-print-none"></div>
    <!-- end leftbar-tab-menu-->
    
    <!-- Page Wrapper -->
    <div class="page-wrapper">

        <!-- Page Content-->
        <div class="page-content">
            <div class="container-xxl">
                {% block content %}
                <!-- Placeholder for page-specific content -->
                {% endblock %}
            </div><!-- container -->
        </div>
        <!-- end page content -->
    </div>
    <!-- end page-wrapper -->

<!-- Javascript  -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'web/assets/libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'web/assets/libs/mobius1-selectr/selectr.min.js' %}"></script>
<script src="{% static 'web/assets/libs/simplebar/simplebar.min.js' %}"></script>
<script src="{% static 'web/assets/libs/simple-datatables/umd/simple-datatables.js' %}"></script>
<script src="{% static 'web/assets/libs/chart.js/chart.min.js' %}"></script>
<script src="{% static 'web/assets/js/pages/chartjs.init.js' %}"></script>
<script src="{% static 'web/assets/js/pages/datatable.init.js' %}"></script>
<script src="{% static 'web/assets/js/app.js' %}"></script>
<script src="https://js.arcgis.com/4.30/"></script>
<script src="{% static 'web/assets/js/add_project.js' %}"></script>


<script>
    $(document).ready(function () {
        $('.multiSelect').each(function () {
            new Selectr(this, {
                placeholder: "Ajouter un élément...",
                searchable: true,
                messages: {
                    noResults: "Aucun résultat trouvé"
                }
            });
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        const toggleButton = document.getElementById("togglemenu");
        const logoText = document.getElementById("logo-text");
        const startbar = document.querySelector(".startbar");
    
        toggleButton.addEventListener("click", function () {
            const isCollapsed = startbar.classList.contains("collapsed");
    
            if (isCollapsed) {
                logoText.style.display = "inline";
            } else {
                logoText.style.display = "none";
            }
    
            startbar.classList.toggle("collapsed");
        });
    });
        
    
</script>


</body>
</html>
